# === docker/Dockerfile.linux-x64 ===
FROM rust:1.81

RUN rustup target add x86_64-unknown-linux-gnu

WORKDIR /workspace
CMD ["cargo", "build", "--target", "x86_64-unknown-linux-gnu", "--release"]

# === docker/Dockerfile.macos-arm64 ===
FROM rust:1.81

# Note: macOS cross-compilation from Linux is complex, might need osxcross
RUN rustup target add aarch64-apple-darwin

WORKDIR /workspace
CMD ["cargo", "build", "--target", "aarch64-apple-darwin", "--release"]

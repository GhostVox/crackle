FROM rust:1.75

# Install MinGW cross-compiler for Windows
RUN apt-get update && \
    apt-get install -y gcc-mingw-w64-i686 && \
    rustup target add i686-pc-windows-gnu && \
    rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /workspace

# Build command
CMD ["cargo", "build", "--target", "i686-pc-windows-gnu", "--release"]
